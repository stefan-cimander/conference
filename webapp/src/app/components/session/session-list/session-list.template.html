<md-card *ngFor="let session of sessions">

  <div *ngIf="session.favored" class="favor-indicator"><md-icon>star</md-icon></div>

  <md-card-title>
    <a
      [routerLink]="[ '/sessions', session.id, session.urlEncodedName ]"
      [href]="'/sessions/' + session.id + '/' + session.urlEncodedName"
    >
      {{ session.name }}
    </a>
  </md-card-title>
  <md-card-content>
    <dl>
      <dt>Location:</dt>
        <dd>{{ session.room }}</dd>
      <dt>Starts:</dt>
        <dd>{{ formatTime(session.startTime) }}</dd>
      <dt>Ends:</dt>
        <dd>{{ formatTime(session.endTime) }}</dd>
      <dt>Session Chair:</dt>
        <dd>{{ session.chair?.name }}</dd>
    </dl>
    <ul class="paper-list">
      <li *ngFor="let event of session.events.slice(0, 5)">
        <h5>{{ event.title }}</h5>
        <div *ngIf="event.paper">
          <span class="paper-author" *ngFor="let author of event.paper.authors">
            <span class="author-name">{{ author.name }}</span>
            <span class="author-institution" *ngIf="author.institution">({{ author.institution }})</span>
          </span>
        </div>
      </li>

    </ul>
    <a
      [routerLink]="[ '/sessions', session.id ]"
      [href]="'/sessions/' + session.id"
      *ngIf="session.events.length > 5"
    >And more</a>

  </md-card-content>
  <md-card-actions align="end">
    <button
      *ngIf="authService.loggedIn && !session.favored"
      md-button
      color="accent"
      (click)="onFavouriteStateChange.emit([session, true])"
    >
      Add to my schedule
    </button>
    <button
      *ngIf="authService.loggedIn && session.favored"
      md-button color="accent"
      (click)="onFavouriteStateChange.emit([session, false])"
    >
      Remove from my schedule
    </button>
  </md-card-actions>
</md-card>
