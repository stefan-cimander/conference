<md-card *ngFor="let event of events">

  <div *ngIf="authService.loggedIn && event.favored" class="favor-indicator"><md-icon>star</md-icon></div>

  <md-card-title (click)="displayEventview(event)">{{ event.title }}</md-card-title>
  <md-card-content>
    <div *ngIf="event.paper">
      <span class="paper-author" *ngFor="let author of event.paper.authors">
        {{ author.name }} ({{ author.institution }})
      </span>
    </div>
    <dl>
      <dt *ngIf="event.paper && event.paper.keywords">Keywords:</dt>
        <dd *ngIf="event.paper && event.paper.keywords">{{ event.paper.keywords }}</dd>
    </dl>
  </md-card-content>
  <md-card-actions align="end">
    <a
      md-button
      color="accent"
      (click)="displayEventview(event)"
      [routerLink]="[ '/events', event.id ]"
    >Details</a>
    <span *ngIf="authService.loggedIn">
      <button
        *ngIf="!event.favored"
        md-button
        color="accent"
        (click)="onFavouriteStateChange.emit([event, true])"
      >
        {{ event.starttime ? 'Add to my schedule' : 'Mark' }}
      </button>
      <button
        *ngIf="event.favored"
        md-button color="accent"
        (click)="onFavouriteStateChange.emit([event, false])"
      >
        {{ event.starttime ? 'Remove from my schedule' : 'Unmark' }}
      </button>
    </span>
  </md-card-actions>
</md-card>
